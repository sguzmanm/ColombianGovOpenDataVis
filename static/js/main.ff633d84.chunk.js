(window["webpackJsonpreact-frontend"]=window["webpackJsonpreact-frontend"]||[]).push([[0],{16:function(e,t,a){e.exports=a(33)},21:function(e,t,a){},23:function(e,t,a){},24:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(12),s=a.n(r),l=(a(21),a(10)),c=a(13),o=a(9),u=a.n(o),h=a(14),m=a(4),d=a(5),f=a(7),p=a(6),b=a(3),g=a(8),v=(a(23),a(24),a(15)),E=a.n(v),y=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(p.a)(t).call(this,e))).navioRef=i.a.createRef(),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"updateComponent",value:function(){if(this.props.data&&0!==this.props.data.length){var e=E()(this.navioRef.current,1e3);e.data(this.props.data),e.addAllAttribs()}}},{key:"render",value:function(){return i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-12 col-sm-6",style:{textAlign:"left"},ref:this.navioRef})))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(p.a)(t).call(this,e))).state={data:[],url:"",choice:"",numPage:1,finished:!1,loading:!1},a.navioContainerRef=i.a.createRef(),a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"timeout",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"getData",value:function(){var e=Object(h.a)(u.a.mark((function e(){var t,a,n,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=100,this.setState({data:[],finished:!1}),a=!1,e.prev=3;case 4:if(a){e.next=22;break}return e.next=7,fetch("".concat(this.state.url,"?$limit=").concat(t,"&$offset=").concat((this.state.numPage-1)*t),{method:"GET"});case 7:return n=e.sent,e.next=10,n.json();case 10:if(0!==(i=e.sent).length){e.next=17;break}a=!0,this.setState({loading:!1,finished:!0}),this.navioContainerRef.current.updateComponent(),e.next=20;break;case 17:return e.next=19,this.timeout(100);case 19:this.setState({data:this.state.data.concat(i),numPage:this.state.numPage+1});case 20:e.next=4;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(3),this.setState({loading:!1,finished:!0});case 27:case"end":return e.stop()}}),e,this,[[3,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(c.a)({},n,a))}},{key:"handleSubmit",value:function(e){this.state.loading||(e.preventDefault(),this.setState({loading:!0,numPage:1}),this.getData())}},{key:"render",value:function(){var e=this,t=null,a=this.state.data.map((function(t){return t[e.state.choice]})).filter((function(e){return!isNaN(e)}));if(0!==a.length&&this.state.finished&&""!==this.state.choice&&0!==this.state.data.length){var n=a.reduce((function(e,t){return parseFloat(e)+parseFloat(t)})),r=n/a.length;t=i.a.createElement("div",{className:"col-12 col-sm-6"},i.a.createElement("p",null,"Sum ",n),i.a.createElement("p",null,"Average ",r),i.a.createElement("p",null,"Min ",Math.min.apply(Math,Object(l.a)(a))),i.a.createElement("p",null,"Max ",Math.max.apply(Math,Object(l.a)(a))),i.a.createElement("p",null,"Numeric data ",a.length))}var s=i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"inputTitle"},"Your dataset"),i.a.createElement("input",{required:!0,name:"url",className:"form-control",id:"inputTitle","aria-describedby":"help",placeholder:"Enter your url",value:this.state.url,onChange:this.handleChange}),i.a.createElement("small",{id:"help",className:"form-text text-muted"},"Please put the URL for getting data from DatosAbiertos"),i.a.createElement("label",{htmlFor:"inputChoice"},"Your numeric field of choice"),i.a.createElement("input",{name:"choice",className:"form-control",id:"inputChoice","aria-describedby":"choiceHelp",placeholder:"Enter your numeric field of choice",value:this.state.choice,onChange:this.handleChange}),i.a.createElement("small",{id:"choiceHelp",className:"form-text text-muted"},"Please put the URL for getting data from DatosAbiertos")),i.a.createElement("button",{type:"submit",className:"btn btn-primary"},this.state.loading?i.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):i.a.createElement("span",null),this.state.loading?"Loading... Page "+this.state.numPage:"Get")),c=null;return this.state.finished&&(c=i.a.createElement("div",{className:"row"},i.a.createElement(y,{show:this.state.finished,data:this.state.data,ref:this.navioContainerRef}),t)),i.a.createElement("div",{className:"App"},i.a.createElement("h1",null,"Colombian Government Open Data Visualizator"),i.a.createElement("p",null,"Hi, for this prototype all you need to do is input an API link from: ",i.a.createElement("a",{href:"https://datos.gov.co/"},"Datos Abiertos")," in the first field"),i.a.createElement("p",null,"If you want to get meaningful stats from  any numeric fields please fill the second field with the name of that component in the data"),i.a.createElement("div",{className:"container-fluid"},s,c))}}]),t}(n.Component);s.a.render(i.a.createElement(k,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.ff633d84.chunk.js.map